В данной статье приводится обзор семейства технологий
RAID и обсуждаются детали реализации RAID-6 алгорит-
мов для платформы Intel 64. Производится сравнение систем
с открытым кодом, используемых для построения дисковых
массивов. Предлагается новый способ реализации алгорит-
мов RAID-6, позволяющий увеличить скорость вычислений
по сравнению с существующими промышленными система-
ми. Приведены фрагменты программного кода, разработан-
ного в соответствии с этим способом, представлены резуль-
таты измерений быстродействия алгоритмов.
Ключевые слова: cистемы хранения данных, дисковые массивы,
RAID, параллельные вычисления, SSE, AVX.
Введение
Многие современные промышленные программно-аппаратные си-
стемы, такие как системы управления ресурсами предприятия, си-
стемы оперативного анализа данных, системы управления цифро-
вым контентом и др., требуют активного обмена данными между
компьютерами и внешними накопителями данных. Однако извест-
но, что быстродействие таких накопителей (жёстких дисков) значи-
тельно ниже, чем быстродействие оперативной памяти компьюте-
ра, а производительность всей системы, как правило, определяется
быстродействием самого медленного её звена. В связи с этим возни-
кает задача увеличения скорости доступа к данным, хранимым на
внешних устройствах. Поэтому на практике широкое распростра-
нение получили подсистемы хранения данных (СХД), объединя-
ющие несколько независимых дисков в единое логическое устрой-
ство. Для повышения производительности в состав СХД включают-
ся несколько дисковых накопителей с возможностью параллельного
чтения и записи информации. В настоящее время активно развива-
ется семейство технологий под общим названием RAID (Redundant
Array of Independent/Inexpencive Disks —избыточный массив неза-
висимых или недорогих жёстких дисков) [1].
Эти технологии решают не только задачу повышения произво-
дительности СХД, но и сопутствующую ей задачу— повышение на-
дёжности хранения данных: ведь отдельные диски могут выходить
из строя при работе системы. Последняя задача решается введе-
нием информационной избыточности— используются дополнитель-
ные диски, на которые записываются специальным образом вычис-
ленные контрольные суммы, позволяющие восстановить информа-
цию в случае выхода из строя одного или нескольких дисков СХД.
Введение избыточных дисков позволяет решить проблему надёжно-
сти, но влечёт за собой необходимость выполнять дополнительные
действия, связанные с вычислением контрольных сумм при каждом
чтении/записи данных с дисков. Производительность этих вычис-
лений, в свою очередь, оказывает существенное влияние на про-
изводительность СХД в целом. Поэтому задача увеличения про-
изводительности RAID-вычислений является актуальной, при этом
наиболее востребованной на практике является технология RAID-6,
позволяющая восстанавливать два вышедших из строя диска1.
В этой статье приводится обзор семейства технологий RAID и
обсуждаются детали реализации RAID-6 алгоритмов на платформе
Intel 64. Несмотря на то, что данная информация опубликована в
открытых источниках [2,3], здесь она представлена в компактном и
целостном виде, удобном как для целей настоящего исследования,
так и для людей, которые хотят больше узнать о данном вопросе,
но не имеют возможности внимательно читать первоисточники. В
работе также представлен результат сравнения СХД с открытым
кодом «АВРОРА», в разработке которой принимал участие автор,
и системы Open-E, которая является наиболее распространённой
на рынке коммерческой СХД аналогичного класса. Эта информа-
ция представляет интерес в силу того, что сравнение алгоритмов,
реализующих технологию RAID-6, затруднено вследствие закры-
тости компаниями-производителями технических деталей. Кроме
того, данные сравнения СХД «АВРОРА» и Open-E используются
для обоснования эффективности основного результата данной ста-
тьи—нового способа организации параллельных вычислений при
реализации технологии RAID-6. Этот способ основывается на идее
«побитового параллелизма», позволяющего увеличить размер об-
ласти данных, обрабатываемой параллельно при вычислении кон-
трольных сумм.